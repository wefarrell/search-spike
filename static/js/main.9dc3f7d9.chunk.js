(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t){e.exports=[{label:"Genre",key:"major_genre",dataSource:"data/genres.json"},{label:"Mood",key:"mood",dataSource:"data/moods.json"},{label:"Tempo",key:"tempo",dataSource:"data/tempos.json"}]},33:function(e,t,a){e.exports=a(58)},38:function(e,t,a){},39:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},56:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),u=(a(38),a(5)),s=a(19),l=a(6),i=a(7),h=a(12),p=a(8),m=a(13),d=(a(39),a(15)),f=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedOption:null,options:[]},a.handleChange=function(e){a.setState({selectedOption:e}),a.props.onChange(e.value)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.dataSource).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){return{label:e,value:e}});e.setState({options:a})})}},{key:"render",value:function(){var e=this.state.selectedOption;return r.a.createElement(d.a,{options:this.state.options,value:e,onChange:this.handleChange})}}]),t}(n.Component),v=(a(56),a(29)),y=a.n(v),b=a(61),g=a(59),j=a(60),O=a(16),E=a.n(O),x=[{value:"artist_name",label:"Artist"},{value:"composer",label:"Writer"},{value:"asset_title",label:"Title"},{value:"album_title",label:"Album"}],w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={searchKey:null,searchText:null,options:[]},a.changeSelect=function(e){a.setState({searchKey:e.value},function(){return a.updateTextQuery()})},a.changeText=function(e){a.setState({searchText:e.target.value},function(){return a.updateTextQuery()})},a.updateTextQuery=function(){var e={};E.a.isEmpty(a.state.searchText)||(e=Object(u.a)({},a.state.searchKey,a.state.searchText)),a.props.onChange(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.state.selectedOption;return r.a.createElement(g.a,null,r.a.createElement(j.a,{md:4},r.a.createElement(d.a,{options:x,onChange:this.changeSelect})),r.a.createElement(j.a,{md:8},r.a.createElement("input",{type:"text",onChange:this.changeText,className:"search"})))}}]),t}(n.Component),k="https://vpc-testingsearchspike-5oxspwmfocvhaaweigely4aq6y.us-east-1.es.amazonaws.com/",S=function(e){var t=E()(e).map(function(e,t){return"+".concat(t,":").concat(e)}).join(" ");return encodeURIComponent(t)},T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={query:{},textQuery:{},items:[]},a.updateTextQuery=function(e){a.setState({textQuery:e},function(){return a.fetchResults()})},a.fetchResults=function(){var e=Object(s.a)({},a.state.query,a.state.textQuery),t=S(e),n="".concat(k,"/_search?q=").concat(t);fetch(n).then(function(e){return e.json()}).then(function(e){var n=E()(e.hits.hits).map("_source").value();console.log(t),a.setState({items:n})})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"updateQuery",value:function(e){var t=this;return function(a){var n=Object(s.a)({},t.state.query,Object(u.a)({},e,a));t.setState({query:n},function(){return t.fetchResults()})}}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,null,r.a.createElement(w,{onChange:this.updateTextQuery}),r.a.createElement(g.a,null,r.a.createElement(j.a,{md:4},y.a.map(function(t){return r.a.createElement("div",{key:t.key},r.a.createElement("label",null,t.label),r.a.createElement(f,{dataSource:t.dataSource,onChange:e.updateQuery(t.key)}))})),r.a.createElement(j.a,{md:8},this.state.items.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,"Title: ",e.asset_title),r.a.createElement("p",null,"Artist: ",e.artist_name),r.a.createElement("p",null,"Writer: ",e.composer),r.a.createElement("hr",null))}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.9dc3f7d9.chunk.js.map